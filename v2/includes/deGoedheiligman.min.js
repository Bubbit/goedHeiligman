angular.module("remcoGlobal",[]);angular.module("remcoGlobal").directive("rDocked",["$document","$window","$timeout","viewportSize",function(e,t,n,r){return{restrict:"A",link:function(e,i){e.check=false;var s=function(){i.removeClass("is-docked");var e=jQuery("body").outerHeight(true);if(e<r.getHeight()){i.addClass("is-docked")}};angular.element(t).on("resize",function(){s()});e.$watch("check",function(){n(function(){e.$apply(function(){e.check=!e.check;s()})},200)});s()}}}]);angular.module("imageViewer",[]);angular.module("imageViewer").directive("imageViewerMain",function(){return{restrict:"EA",template:'<div class="imageViewerContainer"><img src="../Images/uploads/{{activeImage}}" class="imageViewer"/></div>',controller:"imageViewerCtrl"}});angular.module("imageViewer").directive("imageViewerFilter",function(){return{restrict:"EA",template:'<div class="imageViewerFilters">'+"<ul>"+'<li ng-repeat="filter in filters" ng-click="toggleFilter(filter.id)" ng-class="{\'activeFilter\': checkIfActiveFilter(\'{{filter.id}}\')}">{{filter.name}}</li>'+'<li ng-click="clearFolderFilters()">Verwijder filters</li>'+"</ul>"+"</div>",controller:"imageViewerCtrl"}});angular.module("imageViewer").directive("imageViewerCarousel",function(){return{restrict:"EA",template:'<div class="imageViewerCarousel">'+'<div class="leftButton" ng-click="prevCarousel()"></div>'+'<ul ng-swipe-left="prevCarousel()" ng-swipe-right="nextCarousel()">'+'<li ng-repeat="image in carouselImages | limitTo:carouselLimit" ng-click="setActiveImage(image.name)"><img src="../Images/uploads/tn_{{image.name}}"/></li>'+"</ul>"+'<div class="rightButton" ng-click="nextCarousel()"></div>'+"</div>",controller:"imageViewerCtrl"}});angular.module("imageViewer").directive("imageViewer",function(){return{restrict:"EA",template:"<image-viewer-filter></image-viewer-filter>"+"<image-viewer-main></image-viewer-main>"+"<image-viewer-carousel></image-viewer-carousel>",controller:"imageViewerCtrl"}});angular.module("imageViewer").controller("imageViewerCtrl",function(e,t){e.filters=[];e.images=[];e.activeImage="";e.filterPromise=t.get("ajax/fotoFolder.php");e.filterPromise.then(function(t){e.filters=t.data});e.imagesPromise=t.get("ajax/foto.php");e.imagesPromise.then(function(t){e.images=t.data;e.activeImage=e.images[0].name;e.setCarouselImages(e.images)});e.activeFilters=[];e.currentCarouselIndex=0;e.carouselLimit=20;e.toggleFilter=function(t){var n=e.activeFilters.indexOf(t);if(n>-1){e.activeFilters.splice(n,1)}else{e.activeFilters.push(t)}e.setCarouselImages(e.filterImages(e.images))};e.clearFolderFilters=function(){e.activeFilters=[];e.setCarouselImages(e.filterImages(e.images))};e.checkIfActiveFilter=function(t){return e.activeFilters.indexOf(t)>-1};e.setActiveImage=function(t){e.activeImage=t};e.setCarouselImages=function(t){e.carouselImages=t.slice(e.currentCarouselIndex)};e.nextCarousel=function(){if(e.currentCarouselIndex<e.images.length-e.carouselLimit){e.currentCarouselIndex+=1;e.setCarouselImages()}};e.prevCarousel=function(){if(e.currentCarouselIndex>0){e.currentCarouselIndex-=1;e.setCarouselImages()}};e.filterImages=function(t){var n=[];if(e.activeFilters.length>0){angular.forEach(t,function(t){if(e.activeFilters.indexOf(t.folder)>-1){n.push(t)}})}else{n=t}return n}});angular.module("remcoGlobal").factory("viewportSize",["$window","$document",function(e,t){var n=t[0],r=n.documentElement,i,s=function(t){return e["inner"+t]},o=function(e){return n.documentElement["client"+e]},u=function(t){if(!i){var u=t.toLowerCase();if(e["inner"+t]===undefined){i=o}else if(String(e["inner"+t])!==String(r["client"+t])){var a=n.createElement("body");a.id="vpw-test-b";a.style.cssText="overflow:scroll";var f=n.createElement("div");f.id="vpw-test-d";f.style.cssText="position:absolute;top:-1000px";f.innerHTML="<style>@media("+u+":"+r["client"+t]+"px){body#vpw-test-b div#vpw-test-d{"+u+":7px!important}}</style>";a.appendChild(f);r.insertBefore(a,n.head);if(String(f["offset"+t])==="7"){i=o}else{i=s}r.removeChild(a)}else{i=s}}return i(t)};return{getHeight:function(){return u("Height")},getWidth:function(){return u("Width")}}}]);angular.module("goedheiligmanApp",["loginApp","remcoGlobal","imageViewer","ngTouch"]);angular.module("goedheiligmanApp").controller("appCtrl",function(e,t){e.loginService=t;console.log(t);e.openMenu=false;e.toggleMenu=function(){e.openMenu=!e.openMenu}});angular.module("loginApp",[]);angular.module("loginApp").directive("login",["loginService",function(e){return{restrict:"EA",template:'<div class="overlay" ng-class="{active: loginService.loginState.open}">'+'<div class="backdrop" ng-click="loginService.loginToggle()">'+"</div>"+'<div class="login">'+"<header>"+"<h1>Login</h1>"+"</header>"+'<form method="post" action="ajax/login_check.php">'+'<div class="login-block">'+'<label for="account">Account</label>'+'<input id="account" name="account" type="text" placeholder="Account" ng-model="credentials.username">'+"</div>"+'<div class="login-block">'+'<label for="password">Password</label>'+'<input id="password" name="password" type="password" placeholder="Password" ng-model="credentials.password">'+"</div>"+'<button type="submit">Login</button>'+"</form>"+"</div>"+"</div>",scope:true,controller:"loginCtrl",link:function(t){t.loginService=e}}}]);angular.module("loginApp").service("loginService",function(){loginState={open:false,loggedIn:false};return{loginToggle:function(){loginState.open=!loginState.open;console.log(loginState.open)},loginState:loginState}});angular.module("loginApp").controller("loginCtrl",["$scope","$rootScope","AUTH_EVENTS","AuthService",function(e,t,n,r){e.credentials={username:"",password:""};e.login=function(i){r.login(i).then(function(r){t.$broadcast(n.loginSuccess);e.setCurrentUser(r)},function(){t.$broadcast(n.loginFailed)})}}]);angular.module("loginApp").constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"});angular.module("loginApp").constant("USER_ROLES",{all:"*",admin:"admin",editor:"editor",guest:"guest"});angular.module("loginApp").factory("AuthService",function(e,t){var n={};n.login=function(n){return e.post("ajax/login.php",n).then(function(e){t.create(e.data.id,e.data.user.id,e.data.user.role);return e.data.user})};n.isAuthenticated=function(){return!!t.userId};n.isAuthorized=function(e){if(!angular.isArray(e)){e=[e]}return n.isAuthenticated()&&e.indexOf(t.userRole)!==-1};return n});angular.module("loginApp").service("Session",function(){this.create=function(e,t,n){this.id=e;this.userId=t;this.userRole=n};this.destroy=function(){this.id=null;this.userId=null;this.userRole=null};return this});angular.module("goedheiligmanApp").directive("agenda",function(){return{restrict:"EA",template:"<p>"+'<div ng-repeat="data in agendaData">'+"<h1>{{data[0].date}}</h1>"+'<div class="event" ng-repeat="event in data">'+'<span class="event_time">{{event.tijd}}</span><span class="event_place">{{event.plaats}}</span>'+"</div>"+"</div>"+"</p>",link:function(e){e.formatDateNL=function(e){}},controller:"agendaCtrl"}});angular.module("goedheiligmanApp").controller("agendaCtrl",function(e,t){e.rawData={};e.rawData=[{0:"1",1:"11:00",2:"2014-11-15",3:"Winkelcentrum het Paradijs Hoofddorp",4:"",id:"1",tijd:"11:00",date:"2014-11-15",plaats:"Winkelcentrum het Paradijs Hoofddorp",extra:""},{0:"7",1:"13:30",2:"2014-11-15",3:"Sierplein Amsterdam",4:"",id:"7",tijd:"13:30",date:"2014-11-15",plaats:"Sierplein Amsterdam",extra:""},{0:"8",1:"16:00",2:"2014-11-15",3:"Intocht Zwaanshoek",4:"",id:"8",tijd:"16:00",date:"2014-11-15",plaats:"Intocht Zwaanshoek",extra:""},{0:"2",1:"13:00",2:"2014-11-16",3:"Intocht Haarlem Centrum",4:"",id:"2",tijd:"13:00",date:"2014-11-16",plaats:"Intocht Haarlem Centrum",extra:""},{0:"10",1:"13:15",2:"2014-11-22",3:"Winkelcentrum Symphonie Nieuw-Vennep",4:"",id:"10",tijd:"13:15",date:"2014-11-22",plaats:"Winkelcentrum Symphonie Nieuw-Vennep",extra:""},{0:"11",1:"14:45",2:"2014-11-22",3:"Winkelcentrum Getsewoud Nieuw-Vennep",4:"",id:"11",tijd:"14:45",date:"2014-11-22",plaats:"Winkelcentrum Getsewoud Nieuw-Vennep",extra:""},{0:"12",1:"16:30",2:"2014-11-22",3:"Jan van Goyenstraat Heemstede",4:"",id:"12",tijd:"16:30",date:"2014-11-22",plaats:"Jan van Goyenstraat Heemstede",extra:""},{0:"18",1:"11:00",2:"2014-11-22",3:"Winkelstraat Ophelialaan te Aalsmeer",4:"",id:"18",tijd:"11:00",date:"2014-11-22",plaats:"Winkelstraat Ophelialaan te Aalsmeer",extra:""},{0:"4",1:"11:00",2:"2014-11-23",3:"UWV (besloten)",4:"",id:"4",tijd:"11:00",date:"2014-11-23",plaats:"UWV (besloten)",extra:""},{0:"13",1:"13:30",2:"2014-11-23",3:"Belastingdienst Amsterdam (besloten)",4:"",id:"13",tijd:"13:30",date:"2014-11-23",plaats:"Belastingdienst Amsterdam (besloten)",extra:""},{0:"14",1:"16:00",2:"2014-11-23",3:"O.G. (besloten)",4:"",id:"14",tijd:"16:00",date:"2014-11-23",plaats:"O.G. (besloten)",extra:""},{0:"5",1:"10:30",2:"2014-11-29",3:"Transavia Schiphol (besloten)",4:"Paspoort of ID-kaart meenemen",id:"5",tijd:"10:30",date:"2014-11-29",plaats:"Transavia Schiphol (besloten)",extra:"Paspoort of ID-kaart meenemen"},{0:"15",1:"13:00",2:"2014-11-29",3:"Winkelcentrum Kerkelanden Hilversum",4:"",id:"15",tijd:"13:00",date:"2014-11-29",plaats:"Winkelcentrum Kerkelanden Hilversum",extra:""},{0:"16",1:"15:45",2:"2014-11-29",3:"Heineken Amsterdam (besloten)",4:"",id:"16",tijd:"15:45",date:"2014-11-29",plaats:"Heineken Amsterdam (besloten)",extra:""},{0:"6",1:"11:00",2:"2014-11-30",3:"Sinterklaasbrunch Hotel Haarlem-Zuid",4:"",id:"6",tijd:"11:00",date:"2014-11-30",plaats:"Sinterklaasbrunch Hotel Haarlem-Zuid",extra:""},{0:"17",1:"14:00",2:"2014-11-30",3:"Ondernemersvereniging Houtzuid",4:"",id:"17",tijd:"14:00",date:"2014-11-30",plaats:"Ondernemersvereniging Houtzuid",extra:""}];e.agendaData={};for(event in e.rawData){var n=e.rawData[event].date;if(!e.agendaData[n]){e.agendaData[n]=[e.rawData[event]]}else{e.agendaData[n].push(e.rawData[event])}}console.log(e.agendaData)})